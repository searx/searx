{% from 'oscar/macros.html' import draw_favicon %}


    <a href="{{ result.img_src }}" rel="noreferrer" data-toggle="modal" data-target="#modal-{{ index }}" style="background: url('{% if result.thumbnail_src %}{{ image_proxify(result.thumbnail_src) }}{% else %}{{ image_proxify(result.img_src) }}{% endif %}') no-repeat center center;"></a>

<div class="modal fade" id="modal-{{ index }}" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">{% if result.engine~".png" in favicons %}{{ draw_favicon(result.engine) }} {% endif %}{{ result.title|striptags }}</h4>
            </div>
            <div class="modal-body">
                <img class="img-responsive center-block" src="{% if result.thumbnail_src %}{{ image_proxify(result.thumbnail_src) }}{% else %}{{ image_proxify(result.img_src) }}{% endif %}" alt="{{ result.title|striptags }}">
                {% if result.content %}<p class="result-content">{{ result.content|safe }}</p>{% endif %}
            </div>
            <div class="modal-footer">
                <div class="clearfix"></div>
                <span class="label label-default pull-right">{{ result.engine }}</span>
                <p class="text-muted pull-left">{{ result.pretty_url }}</p>
                <div class="clearfix"></div>
                <a href="{{ result.img_src }}" rel="noreferrer" class="btn btn-default">{{ _('Get image') }}</a>
                <a href="{{ result.url }}" rel="noreferrer" class="btn btn-default">{{ _('View source') }}</a>
            </div>
        </div>
    </div>
</div>

