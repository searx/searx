<a href="{{ result.img_src }}" data-toggle="modal" data-target="#modal-{{ index }}">
    <img src="{% if image_cache %}{{ resized_img_src(result.img_src, height=128, mode='crop', quality=65) }}{% else %}{{ result.img_src }}{% endif %}" alt="{{ result.title|e }}" class="img-thumbnail">
</a>

<div class="modal fade" id="modal-{{ index }}" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">{% if result['favicon'] %}<img width="32" height="32" class="favicon" src="static/{{ theme }}/img/icons/{{ result['favicon'] }}.png" /> {% endif %}{{ result.title|striptags }}</h4>
            </div>
            <div class="modal-body">
                <img class="img-responsive center-block" src="{% if image_cache %}{{ resized_img_src(result.img_src, width=10000, mode='crop', quality=95) }}{% else %}{{ result.img_src }}{% endif %}" alt="{{ result.title }}">
                {% if result.content %}<p class="result-content">{{ result.content|safe }}</p>{% endif %}
            </div>
            <div class="modal-footer">
                <div class="clearfix"></div>
                <span class="label label-default pull-right">{{ result.engine }}</span>
                <p class="text-muted pull-left">{{ result.pretty_url }}</p>
                <div class="clearfix"></div>
                <a href="{{ result.img_src }}" class="btn btn-default">{{ _('Get image') }}</a>
                <a href="{{ result.url }}" class="btn btn-default">{{ _('View source') }}</a>
            </div>
        </div>
    </div>
</div>
